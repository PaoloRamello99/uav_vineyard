# MPPI Controller Configuration

# Simulation Parameters
dt: 0.02 # Time step (s)
n_samples: 1000 # Number of MPPI samples
horizon: 40 # Planning horizon steps
temperature: 3.0e-4 # MPPI temperature parameter

# Physics Parameters
mass: 2.0 # UAV mass (kg)
g: 9.81 # Gravity (m/s^2)
tau: 0.02 # Time constant for thrust response
inertia: # Inertia matrix (kg*m^2)
    - [0.02166, 0.0, 0.0]
    - [0.0, 0.02166, 0.0]
    - [0.0, 0.0, 0.04]

# Control Constraints
min_thrust: 0.0 # Minimum thrust (N)
max_thrust: 40.0 # Maximum thrust (N)
angular_rate_min: # Minimum angular rates [roll_rate, pitch_rate, yaw_rate]
    - -3.0
    - -3.0
    - -1.0
angular_rate_max: # Maximum angular rates [roll_rate, pitch_rate, yaw_rate]
    - 3.0
    - 3.0
    - 1.0

# Control Noise Scale for MPPI exploration
ctrl_noise_scale:
    - 5.0 # Thrust noise - increased for better exploration
    - 0.40 # Roll rate noise - increased for better exploration
    - 0.40 # Pitch rate noise - increased for better exploration
    - 0.15 # Yaw rate noise - increased for better exploration

# Cost Weights
# State cost matrix Q (13x13 diagonal)
# States: [x, y, z, vx, vy, vz, qw, qx, qy, qz, p, q, r]
Q_diag:
    - 300.0 # x
    - 300.0 # y
    - 300.0 # z
    - 100.0 # vx
    - 100.0 # vy
    - 100.0 # vz
    - 1.0 # qw
    - 1.0 # qx
    - 1.0 # qy
    - 1.0 # qz
    - 0.1 # p
    - 0.1 # q
    - 0.1 # r

# Control cost matrix R (4x4 diagonal)
# Controls: [thrust, roll_rate, pitch_rate, yaw_rate]
R_diag:
    - 0.005 # thrust
    - 0.02 # roll_rate
    - 0.02 # pitch_rate
    - 0.05 # yaw_rate

# Control rate cost matrix R_rate (4x4 diagonal)
R_rate_diag:
    - 0.05 # thrust rate
    - 0.15 # roll_rate rate
    - 0.15 # pitch_rate rate
    - 0.25 # yaw_rate rate

# Terminal Cost Weights
Q_diag_f:
    - 300.0 # x
    - 300.0 # y
    - 300.0 # z
    - 100.0 # vx
    - 100.0 # vy
    - 100.0 # vz
    - 1.0 # qw
    - 1.0 # qx
    - 1.0 # qy
    - 1.0 # qz
    - 0.1 # p
    - 0.1 # q
    - 0.1 # r
w_att_f: 10.0